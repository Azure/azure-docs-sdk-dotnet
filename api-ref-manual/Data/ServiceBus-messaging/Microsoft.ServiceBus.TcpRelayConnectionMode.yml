### YamlMime:ManagedReference
items:
- uid: Microsoft.ServiceBus.TcpRelayConnectionMode
  commentId: T:Microsoft.ServiceBus.TcpRelayConnectionMode
  id: TcpRelayConnectionMode
  parent: Microsoft.ServiceBus
  children:
  - Microsoft.ServiceBus.TcpRelayConnectionMode.Hybrid
  - Microsoft.ServiceBus.TcpRelayConnectionMode.Relayed
  langs:
  - csharp
  - vb
  name: TcpRelayConnectionMode
  nameWithType: TcpRelayConnectionMode
  fullName: Microsoft.ServiceBus.TcpRelayConnectionMode
  type: Enum
  source:
    remote:
      path: src/product/clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs
      branch: release_10_12_2016
      repo: https://msazure.visualstudio.com/One/_git/ServiceBus-Messaging
    id: TcpRelayConnectionMode
    path: src/product/clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs
    startLine: 9
  assemblies:
  - Microsoft.ServiceBus
  namespace: Microsoft.ServiceBus
  summary: 'Describes the connection mode for the <xref href="Microsoft.ServiceBus.NetTcpRelayBinding" data-throw-if-not-resolved="false"></xref>. '
  example: []
  syntax:
    content: public enum TcpRelayConnectionMode
    content.vb: Public Enum TcpRelayConnectionMode
  modifiers.csharp:
  - public
  - enum
  modifiers.vb:
  - Public
  - Enum
- uid: Microsoft.ServiceBus.TcpRelayConnectionMode.Relayed
  commentId: F:Microsoft.ServiceBus.TcpRelayConnectionMode.Relayed
  id: Relayed
  parent: Microsoft.ServiceBus.TcpRelayConnectionMode
  langs:
  - csharp
  - vb
  name: Relayed
  nameWithType: TcpRelayConnectionMode.Relayed
  fullName: Microsoft.ServiceBus.TcpRelayConnectionMode.Relayed
  type: Field
  source:
    remote:
      path: src/product/clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs
      branch: release_10_12_2016
      repo: https://msazure.visualstudio.com/One/_git/ServiceBus-Messaging
    id: Relayed
    path: src/product/clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs
    startLine: 13
  assemblies:
  - Microsoft.ServiceBus
  namespace: Microsoft.ServiceBus
  summary: "All communication is relayed through the Azure Service Bus cloud. The SSL-protected control connection is used to negotiate a relayed end-to-end socket connection that all Client-Service communication flows through. After the connection is established, the Azure Service Bus infrastructure acts much like a socket forwarder proxy relaying a bidirectional byte stream. This mode additionally \nrequires outbound port 819 for the NAT prediction algorithm. With most personal firewall products, the outbound socket connection that is being established by the direct connect mode will also require a one-time policy exception to be granted by the user (the Windows Personal Firewall and other products will typically prompt the user) to the hosting application."
  example: []
  syntax:
    content: Relayed = 0
    return:
      type: Microsoft.ServiceBus.TcpRelayConnectionMode
  modifiers.csharp:
  - public
  - const
  modifiers.vb:
  - Public
  - Const
- uid: Microsoft.ServiceBus.TcpRelayConnectionMode.Hybrid
  commentId: F:Microsoft.ServiceBus.TcpRelayConnectionMode.Hybrid
  id: Hybrid
  parent: Microsoft.ServiceBus.TcpRelayConnectionMode
  langs:
  - csharp
  - vb
  name: Hybrid
  nameWithType: TcpRelayConnectionMode.Hybrid
  fullName: Microsoft.ServiceBus.TcpRelayConnectionMode.Hybrid
  type: Field
  source:
    remote:
      path: src/product/clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs
      branch: release_10_12_2016
      repo: https://msazure.visualstudio.com/One/_git/ServiceBus-Messaging
    id: Hybrid
    path: src/product/clients/Microsoft.ServiceBus.Messaging/Connectivity/RelayedConnection/TcpRelayConnectionMode.cs
    startLine: 20
  assemblies:
  - Microsoft.ServiceBus
  namespace: Microsoft.ServiceBus
  summary: "Communication is relayed through the Azure Service Bus infrastructure while the Client and Service endpoints negotiate a direct socket connection to each other. The coordination of this direct connection is governed by the Azure Service Bus cloud service. The direct socket connection algorithm is capable of establishing direct connections between two parties that sit behind opposing Firewalls and NAT devices. The algorithm uses only outbound connections for Firewall traversal and relies on a mutual port prediction algorithm for NAT traversal. Since the NAT traversal algorithm is \ndependent on a very narrowly timed coordination and a best-guess prediction about the expected NAT behavior, the algorithm tends to have a very high success rate for Home and Small Business scenarios with a small number of clients and degrades in its success rate with larger NATs. If a direct connection can be established, the relayed connection is automatically upgraded to the direct connection without message or data loss. If the direct connection cannot be established, data will continue to flow through the Azure Service Bus Relay. \n\nThis mode additionally requires outbound port 819 for the NAT prediction algorithm. With most personal firewall products, the outbound socket connection that is being established by the direct connect \nmode will also require a one-time policy exception to be granted by the user (the Windows Personal Firewall and other products will typically prompt the user) to the hosting application. \n"
  example: []
  syntax:
    content: Hybrid = 1
    return:
      type: Microsoft.ServiceBus.TcpRelayConnectionMode
  modifiers.csharp:
  - public
  - const
  modifiers.vb:
  - Public
  - Const
references:
- uid: Microsoft.ServiceBus.NetTcpRelayBinding
  commentId: T:Microsoft.ServiceBus.NetTcpRelayBinding
  isExternal: false
  name: NetTcpRelayBinding
  nameWithType: NetTcpRelayBinding
  fullName: Microsoft.ServiceBus.NetTcpRelayBinding
- uid: Microsoft.ServiceBus
  commentId: N:Microsoft.ServiceBus
  isExternal: false
  name: Microsoft.ServiceBus
  nameWithType: Microsoft.ServiceBus
  fullName: Microsoft.ServiceBus
- uid: Microsoft.ServiceBus.TcpRelayConnectionMode
  commentId: T:Microsoft.ServiceBus.TcpRelayConnectionMode
  parent: Microsoft.ServiceBus
  isExternal: false
  name: TcpRelayConnectionMode
  nameWithType: TcpRelayConnectionMode
  fullName: Microsoft.ServiceBus.TcpRelayConnectionMode
