<Type Name="RequiredScopeOrAppPermissionAttribute" FullName="Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute">
  <TypeSignature Language="C#" Value="public class RequiredScopeOrAppPermissionAttribute : Attribute, Microsoft.Identity.Web.IAuthRequiredScopeOrAppPermissionMetadata" />
  <TypeSignature Language="ILAsm" Value=".class public auto ansi beforefieldinit RequiredScopeOrAppPermissionAttribute extends System.Attribute implements class Microsoft.Identity.Web.IAuthRequiredScopeOrAppPermissionMetadata" />
  <TypeSignature Language="DocId" Value="T:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute" />
  <TypeSignature Language="VB.NET" Value="Public Class RequiredScopeOrAppPermissionAttribute&#xA;Inherits Attribute&#xA;Implements IAuthRequiredScopeOrAppPermissionMetadata" />
  <TypeSignature Language="F#" Value="type RequiredScopeOrAppPermissionAttribute = class&#xA;    inherit Attribute&#xA;    interface IAuthRequiredScopeOrAppPermissionMetadata" />
  <AssemblyInfo>
    <AssemblyName>Microsoft.Identity.Web</AssemblyName>
    <AssemblyVersion>1.25.0.0</AssemblyVersion>
    <AssemblyVersion>1.25.1.0</AssemblyVersion>
  </AssemblyInfo>
  <Base>
    <BaseTypeName>System.Attribute</BaseTypeName>
  </Base>
  <Interfaces>
    <Interface>
      <InterfaceName>Microsoft.Identity.Web.IAuthRequiredScopeOrAppPermissionMetadata</InterfaceName>
    </Interface>
  </Interfaces>
  <Attributes>
    <Attribute>
      <AttributeName Language="C#">[System.AttributeUsage(System.AttributeTargets.Class | System.AttributeTargets.Method)]</AttributeName>
      <AttributeName Language="F#">[&lt;System.AttributeUsage(System.AttributeTargets.Class | System.AttributeTargets.Method)&gt;]</AttributeName>
    </Attribute>
  </Attributes>
  <Docs>
    <summary>
            This attribute is used on a controller, pages, or controller actions
            to declare (and validate) the scopes or app permissions required by a web API. 
            These scopes or app permissions can be declared in two ways:
            hardcoding them, or declaring them in the configuration. Depending on your
            choice, use either one or the other of the constructors.
            For details, see https://aka.ms/ms-id-web/required-scope-or-app-permissions-attribute.
            </summary>
    <remarks>To be added.</remarks>
  </Docs>
  <Members>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public RequiredScopeOrAppPermissionAttribute ();" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor() cil managed" />
      <MemberSignature Language="DocId" Value="M:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.#ctor" />
      <MemberSignature Language="VB.NET" Value="Public Sub New ()" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.Identity.Web</AssemblyName>
        <AssemblyVersion>1.25.0.0</AssemblyVersion>
        <AssemblyVersion>1.25.1.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters />
      <Docs>
        <summary>
            Default constructor.
            </summary>
        <remarks>To be added.</remarks>
        <example>
          <code>
            [RequiredScopeOrAppPermission(RequiredScopesConfigurationKey="AzureAD:Scope", RequiredAppPermissionsConfigurationKey="AzureAD:AppPermission")]
            class Controller : BaseController
            {
            }
            </code>
        </example>
      </Docs>
    </Member>
    <Member MemberName=".ctor">
      <MemberSignature Language="C#" Value="public RequiredScopeOrAppPermissionAttribute (string[] acceptedScopes, string[] acceptedAppPermissions);" />
      <MemberSignature Language="ILAsm" Value=".method public hidebysig specialname rtspecialname instance void .ctor(string[] acceptedScopes, string[] acceptedAppPermissions) cil managed" />
      <MemberSignature Language="DocId" Value="M:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.#ctor(System.String[],System.String[])" />
      <MemberSignature Language="VB.NET" Value="Public Sub New (acceptedScopes As String(), acceptedAppPermissions As String())" />
      <MemberSignature Language="F#" Value="new Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute : string[] * string[] -&gt; Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute" Usage="new Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute (acceptedScopes, acceptedAppPermissions)" />
      <MemberType>Constructor</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.Identity.Web</AssemblyName>
        <AssemblyVersion>1.25.0.0</AssemblyVersion>
        <AssemblyVersion>1.25.1.0</AssemblyVersion>
      </AssemblyInfo>
      <Parameters>
        <Parameter Name="acceptedScopes" Type="System.String[]" />
        <Parameter Name="acceptedAppPermissions" Type="System.String[]" />
      </Parameters>
      <Docs>
        <param name="acceptedScopes">Scopes accepted by this web API.</param>
        <param name="acceptedAppPermissions">App permissions accepted by this web API.</param>
        <summary>
             Verifies that the web API is called with the right app permissions.
             If the token obtained for this API is on behalf of the authenticated user does not have
             any of these <paramref name="acceptedScopes" /> in its scope claim, 
             nor <paramref name="acceptedAppPermissions" /> in its roles claim, the
             method updates the HTTP response providing a status code 403 (Forbidden)
             and writes to the response body a message telling which scopes are expected in the token.
             </summary>
        <remarks>When neither the scopes nor app permissions match, the response is a 403 (Forbidden),
             because the user is authenticated (hence not 401), but not authorized.</remarks>
        <example>
             Add the following attribute on the controller/page/action to protect:
            
             <code>
             [RequiredScopeOrAppPermission(new [] { "access_as_user" }, new [] { "access_as_app" })]
             </code></example>
        <altmember cref="M:RequiredScopeOrAppPermissionAttribute()" />
        <see cref="P:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.RequiredAppPermissionsConfigurationKey" />
      </Docs>
    </Member>
    <Member MemberName="AcceptedAppPermission">
      <MemberSignature Language="C#" Value="public string[]? AcceptedAppPermission { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string[] AcceptedAppPermission" />
      <MemberSignature Language="DocId" Value="P:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.AcceptedAppPermission" />
      <MemberSignature Language="VB.NET" Value="Public Property AcceptedAppPermission As String()" />
      <MemberSignature Language="F#" Value="member this.AcceptedAppPermission : string[] with get, set" Usage="Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.AcceptedAppPermission" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.Identity.Web</AssemblyName>
        <AssemblyVersion>1.25.0.0</AssemblyVersion>
        <AssemblyVersion>1.25.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
            App permissions accepted by this web API.
            App permissions appear in the roles claim of the token.
            </summary>
        <value>To be added.</value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="AcceptedScope">
      <MemberSignature Language="C#" Value="public string[]? AcceptedScope { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string[] AcceptedScope" />
      <MemberSignature Language="DocId" Value="P:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.AcceptedScope" />
      <MemberSignature Language="VB.NET" Value="Public Property AcceptedScope As String()" />
      <MemberSignature Language="F#" Value="member this.AcceptedScope : string[] with get, set" Usage="Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.AcceptedScope" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.Identity.Web</AssemblyName>
        <AssemblyVersion>1.25.0.0</AssemblyVersion>
        <AssemblyVersion>1.25.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String[]</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
            Scopes accepted by this web API.
            </summary>
        <value>To be added.</value>
        <remarks>To be added.</remarks>
      </Docs>
    </Member>
    <Member MemberName="RequiredAppPermissionsConfigurationKey">
      <MemberSignature Language="C#" Value="public string? RequiredAppPermissionsConfigurationKey { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string RequiredAppPermissionsConfigurationKey" />
      <MemberSignature Language="DocId" Value="P:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.RequiredAppPermissionsConfigurationKey" />
      <MemberSignature Language="VB.NET" Value="Public Property RequiredAppPermissionsConfigurationKey As String" />
      <MemberSignature Language="F#" Value="member this.RequiredAppPermissionsConfigurationKey : string with get, set" Usage="Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.RequiredAppPermissionsConfigurationKey" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.Identity.Web</AssemblyName>
        <AssemblyVersion>1.25.0.0</AssemblyVersion>
        <AssemblyVersion>1.25.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
            Fully qualified name of the configuration key containing the required app permissions (separated
            by spaces).
            </summary>
        <value>To be added.</value>
        <remarks>To be added.</remarks>
        <example>
            If the appsettings.json file contains a section named "AzureAd", in which
            a property named "AppPermissions" contains the required app permissions, the attribute on the
            controller/page/action to protect should be set to the following:
            <code>
            [RequiredScopeOrAppPermission(RequiredAppPermissionsConfigurationKey="AzureAd:AppPermissions")]
            </code></example>
      </Docs>
    </Member>
    <Member MemberName="RequiredScopesConfigurationKey">
      <MemberSignature Language="C#" Value="public string? RequiredScopesConfigurationKey { get; set; }" />
      <MemberSignature Language="ILAsm" Value=".property instance string RequiredScopesConfigurationKey" />
      <MemberSignature Language="DocId" Value="P:Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.RequiredScopesConfigurationKey" />
      <MemberSignature Language="VB.NET" Value="Public Property RequiredScopesConfigurationKey As String" />
      <MemberSignature Language="F#" Value="member this.RequiredScopesConfigurationKey : string with get, set" Usage="Microsoft.Identity.Web.Resource.RequiredScopeOrAppPermissionAttribute.RequiredScopesConfigurationKey" />
      <MemberType>Property</MemberType>
      <AssemblyInfo>
        <AssemblyName>Microsoft.Identity.Web</AssemblyName>
        <AssemblyVersion>1.25.0.0</AssemblyVersion>
        <AssemblyVersion>1.25.1.0</AssemblyVersion>
      </AssemblyInfo>
      <ReturnValue>
        <ReturnType>System.String</ReturnType>
      </ReturnValue>
      <Docs>
        <summary>
            Fully qualified name of the configuration key containing the required scopes (separated
            by spaces).
            </summary>
        <value>To be added.</value>
        <remarks>To be added.</remarks>
        <example>
            If the appsettings.json file contains a section named "AzureAd", in which
            a property named "Scopes" contains the required scopes, the attribute on the
            controller/page/action to protect should be set to the following:
            <code>
            [RequiredScopeOrAppPermission(RequiredScopesConfigurationKey="AzureAd:Scopes")]
            </code></example>
      </Docs>
    </Member>
  </Members>
</Type>
