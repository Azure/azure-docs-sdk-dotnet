### YamlMime:NetMember
type: method
members:
- returnsWithMoniker:
    type:
    - value: <xref href="Azure.AsyncPageable`1?alt=Azure.AsyncPageable&text=AsyncPageable" data-throw-if-not-resolved="True"/>&lt;<xref href="Azure.ResourceManager.Consumption.Models.ConsumptionLotSummary?alt=Azure.ResourceManager.Consumption.Models.ConsumptionLotSummary&text=ConsumptionLotSummary" data-throw-if-not-resolved="True"/>&gt;
    description: An async collection of <xref data-throw-if-not-resolved="true" uid="Azure.ResourceManager.Consumption.Models.ConsumptionLotSummary"></xref> that may take multiple service requests to iterate over.
  parameters:
  - namesWithMoniker:
    - value: filter
    description: May be used to filter the lots by Status, Source etc. The filter supports 'eq', 'lt', 'gt', 'le', 'ge', and 'and'. It does not currently support 'ne', 'or', or 'not'. Tag filter is a key value pair string where key and value is separated by a colon (:).
    type: <xref href="System.String?alt=System.String&text=String" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: cancellationToken
    description: The cancellation token to use.
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  type: method
  uid: Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync(System.String,System.Threading.CancellationToken)
  commentId: M:Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync(System.String,System.Threading.CancellationToken)
  name: GetLotsAsync(String, CancellationToken)
  fullName: Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync(String, CancellationToken)
  nameWithType: BillingAccountConsumptionResource.GetLotsAsync(String, CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: public virtual Azure.AsyncPageable<Azure.ResourceManager.Consumption.Models.ConsumptionLotSummary> GetLotsAsync (string filter = default, System.Threading.CancellationToken cancellationToken = default);
  - lang: fsharp
    values:
    - value: >-
        abstract member GetLotsAsync : string * System.Threading.CancellationToken -> Azure.AsyncPageable<Azure.ResourceManager.Consumption.Models.ConsumptionLotSummary>

        override this.GetLotsAsync : string * System.Threading.CancellationToken -> Azure.AsyncPageable<Azure.ResourceManager.Consumption.Models.ConsumptionLotSummary>
  - lang: vb
    values:
    - value: Public Overridable Function GetLotsAsync (Optional filter As String = Nothing, Optional cancellationToken As CancellationToken = Nothing) As AsyncPageable(Of ConsumptionLotSummary)
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
  summary: >-
    Lists all Microsoft Azure consumption commitments for a billing account. The API is only supported for Microsoft Customer Agreements (MCA) and Direct Enterprise Agreement (EA)  billing accounts.

    <ul><li>Request Path/providers/Microsoft.Billing/billingAccounts/{billingAccountId}/providers/Microsoft.Consumption/lots</li><li>Operation IdLots_ListByBillingAccount</li></ul>
  metadata: {}
uid: Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync*
commentId: Overload:Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync
namespace: Azure.ResourceManager.Consumption
name: GetLotsAsync
fullName: Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync
nameWithType: BillingAccountConsumptionResource.GetLotsAsync
assembliesWithMoniker:
- value: Azure.ResourceManager.Consumption.dll
packagesWithMoniker:
- value: Azure.ResourceManager.Consumption v1.0.1
  monikers:
  - azure-dotnet
- value: Azure.ResourceManager.Consumption v1.1.0-beta.1
  monikers:
  - azure-dotnet-preview
devLangs:
- csharp
- vb
- fsharp
monikers:
- azure-dotnet
- azure-dotnet-preview
metadata:
  api_name:
  - Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync
  api_location:
  - Azure.ResourceManager.Consumption.dll
  topic_type:
  - apiref
  api_type:
  - Assembly
  f1_keywords:
  - Azure.ResourceManager.Consumption.BillingAccountConsumptionResource.GetLotsAsync
  - Azure::ResourceManager::Consumption::BillingAccountConsumptionResource::GetLotsAsync
  - GetLotsAsync
  - BillingAccountConsumptionResource.GetLotsAsync
  - BillingAccountConsumptionResource::GetLotsAsync
  helpviewer_keywords:
  - BillingAccountConsumptionResource.GetLotsAsync method [.NET]
  - GetLotsAsync method [.NET], class BillingAccountConsumptionResource
  - BillingAccountConsumptionResource.GetLotsAsync(String, CancellationToken) method [.NET]
  - GetLotsAsync(String, CancellationToken) method [.NET], class BillingAccountConsumptionResource
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
