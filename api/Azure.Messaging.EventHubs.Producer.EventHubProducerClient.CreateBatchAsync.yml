### YamlMime:NetMember
type: method
members:
- returnsWithMoniker:
    type:
    - value: <xref href="System.Threading.Tasks.ValueTask`1?alt=System.Threading.Tasks.ValueTask&text=ValueTask" data-throw-if-not-resolved="True"/>&lt;<xref href="Azure.Messaging.EventHubs.Producer.EventDataBatch?alt=Azure.Messaging.EventHubs.Producer.EventDataBatch&text=EventDataBatch" data-throw-if-not-resolved="True"/>&gt;
    description: An <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.EventHubs.Producer.EventDataBatch"></xref> with the default batch options.
  parameters:
  - namesWithMoniker:
    - value: cancellationToken
    description: An optional <xref data-throw-if-not-resolved="true" uid="System.Threading.CancellationToken"></xref> instance to signal the request to cancel the operation.
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  type: method
  uid: Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(System.Threading.CancellationToken)
  commentId: M:Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(System.Threading.CancellationToken)
  name: CreateBatchAsync(CancellationToken)
  fullName: Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(CancellationToken)
  nameWithType: EventHubProducerClient.CreateBatchAsync(CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: public virtual System.Threading.Tasks.ValueTask<Azure.Messaging.EventHubs.Producer.EventDataBatch> CreateBatchAsync (System.Threading.CancellationToken cancellationToken = default);
  - lang: fsharp
    values:
    - value: >-
        abstract member CreateBatchAsync : System.Threading.CancellationToken -> System.Threading.Tasks.ValueTask<Azure.Messaging.EventHubs.Producer.EventDataBatch>

        override this.CreateBatchAsync : System.Threading.CancellationToken -> System.Threading.Tasks.ValueTask<Azure.Messaging.EventHubs.Producer.EventDataBatch>
  - lang: vb
    values:
    - value: Public Overridable Function CreateBatchAsync (Optional cancellationToken As CancellationToken = Nothing) As ValueTask(Of EventDataBatch)
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
  seeAlso: >+
    - <xref:Azure.Messaging.EventHubs.Producer.EventHubProducerClient.SendAsync(Azure.Messaging.EventHubs.Producer.EventDataBatch%2cSystem.Threading.CancellationToken)>

    - <xref:Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(Azure.Messaging.EventHubs.Producer.CreateBatchOptions%2cSystem.Threading.CancellationToken)>

  summary: >-
    Creates a size-constraint batch to which <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.EventHubs.EventData"></xref> may be added using a try-based pattern.  If an event would

    exceed the maximum allowable size of the batch, the batch will not allow adding the event and signal that scenario using its

    return value.


    Because events that would violate the size constraint cannot be added, publishing a batch will not trigger an exception when

    attempting to send the events to the Event Hubs service.
  metadata: {}
- returnsWithMoniker:
    type:
    - value: <xref href="System.Threading.Tasks.ValueTask`1?alt=System.Threading.Tasks.ValueTask&text=ValueTask" data-throw-if-not-resolved="True"/>&lt;<xref href="Azure.Messaging.EventHubs.Producer.EventDataBatch?alt=Azure.Messaging.EventHubs.Producer.EventDataBatch&text=EventDataBatch" data-throw-if-not-resolved="True"/>&gt;
    description: An <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.EventHubs.Producer.EventDataBatch"></xref> with the requested <code data-dev-comment-type="paramref">options</code>.
  parameters:
  - namesWithMoniker:
    - value: options
    description: The set of options to consider when creating this batch.
    type: <xref href="Azure.Messaging.EventHubs.Producer.CreateBatchOptions?alt=Azure.Messaging.EventHubs.Producer.CreateBatchOptions&text=CreateBatchOptions" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: cancellationToken
    description: An optional <xref data-throw-if-not-resolved="true" uid="System.Threading.CancellationToken"></xref> instance to signal the request to cancel the operation.
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  exceptions:
  - description: Occurs when both a partition identifier and partition key have been specified in the <code data-dev-comment-type="paramref">options</code>.
    type: <xref href="System.InvalidOperationException" data-throw-if-not-resolved="True"/>
  type: method
  uid: Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(Azure.Messaging.EventHubs.Producer.CreateBatchOptions,System.Threading.CancellationToken)
  commentId: M:Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(Azure.Messaging.EventHubs.Producer.CreateBatchOptions,System.Threading.CancellationToken)
  name: CreateBatchAsync(CreateBatchOptions, CancellationToken)
  fullName: Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(CreateBatchOptions, CancellationToken)
  nameWithType: EventHubProducerClient.CreateBatchAsync(CreateBatchOptions, CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: public virtual System.Threading.Tasks.ValueTask<Azure.Messaging.EventHubs.Producer.EventDataBatch> CreateBatchAsync (Azure.Messaging.EventHubs.Producer.CreateBatchOptions options, System.Threading.CancellationToken cancellationToken = default);
  - lang: fsharp
    values:
    - value: >-
        abstract member CreateBatchAsync : Azure.Messaging.EventHubs.Producer.CreateBatchOptions * System.Threading.CancellationToken -> System.Threading.Tasks.ValueTask<Azure.Messaging.EventHubs.Producer.EventDataBatch>

        override this.CreateBatchAsync : Azure.Messaging.EventHubs.Producer.CreateBatchOptions * System.Threading.CancellationToken -> System.Threading.Tasks.ValueTask<Azure.Messaging.EventHubs.Producer.EventDataBatch>
  - lang: vb
    values:
    - value: Public Overridable Function CreateBatchAsync (options As CreateBatchOptions, Optional cancellationToken As CancellationToken = Nothing) As ValueTask(Of EventDataBatch)
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
  seeAlso: >+
    - <xref:Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync(System.Threading.CancellationToken)>

    - <xref:Azure.Messaging.EventHubs.Producer.EventHubProducerClient.SendAsync(Azure.Messaging.EventHubs.Producer.EventDataBatch%2cSystem.Threading.CancellationToken)>

  summary: >-
    Creates a size-constraint batch to which <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.EventHubs.EventData"></xref> may be added using a try-based pattern.  If an event would

    exceed the maximum allowable size of the batch, the batch will not allow adding the event and signal that scenario using its

    return value.


    Because events that would violate the size constraint cannot be added, publishing a batch will not trigger an exception when

    attempting to send the events to the Event Hubs service.
  metadata: {}
uid: Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync*
commentId: Overload:Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync
namespace: Azure.Messaging.EventHubs.Producer
name: CreateBatchAsync
fullName: Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync
nameWithType: EventHubProducerClient.CreateBatchAsync
assembliesWithMoniker:
- value: Azure.Messaging.EventHubs.dll
packagesWithMoniker:
- value: Azure.Messaging.EventHubs v5.9.2
  monikers:
  - azure-dotnet
- value: Azure.Messaging.EventHubs v5.7.0-beta.5
  monikers:
  - azure-dotnet-preview
devLangs:
- csharp
- vb
- fsharp
monikers:
- azure-dotnet
- azure-dotnet-preview
metadata:
  api_name:
  - Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync
  api_location:
  - Azure.Messaging.EventHubs.dll
  topic_type:
  - apiref
  api_type:
  - Assembly
  f1_keywords:
  - Azure.Messaging.EventHubs.Producer.EventHubProducerClient.CreateBatchAsync
  - Azure::Messaging::EventHubs::Producer::EventHubProducerClient::CreateBatchAsync
  - CreateBatchAsync
  - EventHubProducerClient.CreateBatchAsync
  - EventHubProducerClient::CreateBatchAsync
  helpviewer_keywords:
  - EventHubProducerClient.CreateBatchAsync method [.NET]
  - CreateBatchAsync method [.NET], class EventHubProducerClient
  - EventHubProducerClient.CreateBatchAsync(CancellationToken) method [.NET]
  - CreateBatchAsync(CancellationToken) method [.NET], class EventHubProducerClient
  - EventHubProducerClient.CreateBatchAsync(CreateBatchOptions, CancellationToken) method [.NET]
  - CreateBatchAsync(CreateBatchOptions, CancellationToken) method [.NET], class EventHubProducerClient
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
