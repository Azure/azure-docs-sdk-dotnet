### YamlMime:NetMember
type: method
members:
- returnsWithMoniker:
    type:
    - value: <xref href="System.Threading.Tasks.Task`1?alt=System.Threading.Tasks.Task&text=Task" data-throw-if-not-resolved="True"/>&lt;<xref href="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver?alt=Azure.Messaging.ServiceBus.ServiceBusSessionReceiver&text=ServiceBusSessionReceiver" data-throw-if-not-resolved="True"/>&gt;
    description: A <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref> scoped to the specified queue and a specific session.
  parameters:
  - namesWithMoniker:
    - value: queueName
    description: The session-enabled queue to create a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref> for.
    type: <xref href="System.String?alt=System.String&text=String" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: options
    description: >-
      The set of <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions"></xref> to use for configuring the
                   <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref>.
    type: <xref href="Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions?alt=Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions&text=ServiceBusSessionReceiverOptions" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: cancellationToken
    description: An optional <xref data-throw-if-not-resolved="true" uid="System.Threading.CancellationToken"></xref> instance to signal the request to cancel the operation.
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  exceptions:
  - description: >-
      There are no unlocked sessions in the entity. This can occur if the entity has no Active messages, or if all of the messages

      belong to sessions that are locked by other receivers.

      The <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException.Reason"></xref> will be set to <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusFailureReason.ServiceTimeout"></xref> in this case.
    type: <xref href="Azure.Messaging.ServiceBus.ServiceBusException?alt=Azure.Messaging.ServiceBus.ServiceBusException&text=ServiceBusException" data-throw-if-not-resolved="True"/>
  type: method
  uid: Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync(System.String,Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions,System.Threading.CancellationToken)
  commentId: M:Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync(System.String,Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions,System.Threading.CancellationToken)
  name: AcceptNextSessionAsync(String, ServiceBusSessionReceiverOptions, CancellationToken)
  fullName: Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync(String, ServiceBusSessionReceiverOptions, CancellationToken)
  nameWithType: ServiceBusClient.AcceptNextSessionAsync(String, ServiceBusSessionReceiverOptions, CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: public virtual System.Threading.Tasks.Task<Azure.Messaging.ServiceBus.ServiceBusSessionReceiver> AcceptNextSessionAsync (string queueName, Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions options = default, System.Threading.CancellationToken cancellationToken = default);
  - lang: fsharp
    values:
    - value: >-
        abstract member AcceptNextSessionAsync : string * Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions * System.Threading.CancellationToken -> System.Threading.Tasks.Task<Azure.Messaging.ServiceBus.ServiceBusSessionReceiver>

        override this.AcceptNextSessionAsync : string * Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions * System.Threading.CancellationToken -> System.Threading.Tasks.Task<Azure.Messaging.ServiceBus.ServiceBusSessionReceiver>
  - lang: vb
    values:
    - value: Public Overridable Function AcceptNextSessionAsync (queueName As String, Optional options As ServiceBusSessionReceiverOptions = Nothing, Optional cancellationToken As CancellationToken = Nothing) As Task(Of ServiceBusSessionReceiver)
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
  summary: >-
    Creates a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref> instance that can be used for receiving

    and settling messages from a session-enabled queue by accepting the next unlocked session that contains Active messages. If there

    are no unlocked sessions with Active messages, then the call will timeout after the configured <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusRetryOptions.TryTimeout"></xref> value and throw

    a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException"></xref> with <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException.Reason"></xref> set to <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusFailureReason.ServiceTimeout"></xref>.

    The <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusReceiveMode"></xref> can be specified in the <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusReceiverOptions"></xref> to configure how messages are received.

    The default value is <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusReceiveMode.PeekLock"></xref>.
  remarks: <p>Because this is establishing a session lock, this method performs a service call. If there are no available messages in the queue, this will throw a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException"></xref> with <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException.Reason"></xref> of <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusFailureReason.ServiceTimeout"></xref>.</p>
  metadata: {}
- returnsWithMoniker:
    type:
    - value: <xref href="System.Threading.Tasks.Task`1?alt=System.Threading.Tasks.Task&text=Task" data-throw-if-not-resolved="True"/>&lt;<xref href="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver?alt=Azure.Messaging.ServiceBus.ServiceBusSessionReceiver&text=ServiceBusSessionReceiver" data-throw-if-not-resolved="True"/>&gt;
    description: A <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref> scoped to the specified queue and a specific session.
  parameters:
  - namesWithMoniker:
    - value: topicName
    description: The topic to create a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref> for.
    type: <xref href="System.String?alt=System.String&text=String" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: subscriptionName
    description: The session-enabled subscription to create a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref> for.
    type: <xref href="System.String?alt=System.String&text=String" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: options
    description: >-
      The set of <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions"></xref> to use for configuring the
                   <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref>.
    type: <xref href="Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions?alt=Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions&text=ServiceBusSessionReceiverOptions" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: cancellationToken
    description: An optional <xref data-throw-if-not-resolved="true" uid="System.Threading.CancellationToken"></xref> instance to signal the request to cancel the operation.
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  exceptions:
  - description: >-
      There are no unlocked sessions in the entity. This can occur if the entity has no messages, or if all of the messages

      belong to sessions that are locked by other receivers.

      The <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException.Reason"></xref> will be set to <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusFailureReason.ServiceTimeout"></xref> in this case.
    type: <xref href="Azure.Messaging.ServiceBus.ServiceBusException?alt=Azure.Messaging.ServiceBus.ServiceBusException&text=ServiceBusException" data-throw-if-not-resolved="True"/>
  type: method
  uid: Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync(System.String,System.String,Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions,System.Threading.CancellationToken)
  commentId: M:Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync(System.String,System.String,Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions,System.Threading.CancellationToken)
  name: AcceptNextSessionAsync(String, String, ServiceBusSessionReceiverOptions, CancellationToken)
  fullName: Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync(String, String, ServiceBusSessionReceiverOptions, CancellationToken)
  nameWithType: ServiceBusClient.AcceptNextSessionAsync(String, String, ServiceBusSessionReceiverOptions, CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: public virtual System.Threading.Tasks.Task<Azure.Messaging.ServiceBus.ServiceBusSessionReceiver> AcceptNextSessionAsync (string topicName, string subscriptionName, Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions options = default, System.Threading.CancellationToken cancellationToken = default);
  - lang: fsharp
    values:
    - value: >-
        abstract member AcceptNextSessionAsync : string * string * Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions * System.Threading.CancellationToken -> System.Threading.Tasks.Task<Azure.Messaging.ServiceBus.ServiceBusSessionReceiver>

        override this.AcceptNextSessionAsync : string * string * Azure.Messaging.ServiceBus.ServiceBusSessionReceiverOptions * System.Threading.CancellationToken -> System.Threading.Tasks.Task<Azure.Messaging.ServiceBus.ServiceBusSessionReceiver>
  - lang: vb
    values:
    - value: Public Overridable Function AcceptNextSessionAsync (topicName As String, subscriptionName As String, Optional options As ServiceBusSessionReceiverOptions = Nothing, Optional cancellationToken As CancellationToken = Nothing) As Task(Of ServiceBusSessionReceiver)
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
  summary: >-
    Creates a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusSessionReceiver"></xref> instance that can be used for receiving

    and settling messages from a session-enabled subscription by accepting the next unlocked session that contains Active messages. If there

    are no unlocked sessions with Active messages, then the call will timeout after the configured <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusRetryOptions.TryTimeout"></xref> value and throw

    a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException"></xref> with <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException.Reason"></xref> set to <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusFailureReason.ServiceTimeout"></xref>.

    The <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusReceiveMode"></xref> can be specified in the <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusReceiverOptions"></xref> to configure how messages are received.

    The default value is <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusReceiveMode.PeekLock"></xref>.
  remarks: <p>Because this is establishing a session lock, this method performs a service call. If there are no available messages in the queue, this will throw a <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException"></xref> with <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusException.Reason"></xref> of <xref data-throw-if-not-resolved="true" uid="Azure.Messaging.ServiceBus.ServiceBusFailureReason.ServiceTimeout"></xref>.</p>
  metadata: {}
uid: Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync*
commentId: Overload:Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync
namespace: Azure.Messaging.ServiceBus
name: AcceptNextSessionAsync
fullName: Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync
nameWithType: ServiceBusClient.AcceptNextSessionAsync
assembliesWithMoniker:
- value: Azure.Messaging.ServiceBus.dll
packagesWithMoniker:
- value: Azure.Messaging.ServiceBus v7.15.0
  monikers:
  - azure-dotnet
- value: Azure.Messaging.ServiceBus v7.11.0-beta.1
  monikers:
  - azure-dotnet-preview
devLangs:
- csharp
- vb
- fsharp
monikers:
- azure-dotnet
- azure-dotnet-preview
metadata:
  api_name:
  - Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync
  api_location:
  - Azure.Messaging.ServiceBus.dll
  topic_type:
  - apiref
  api_type:
  - Assembly
  f1_keywords:
  - Azure.Messaging.ServiceBus.ServiceBusClient.AcceptNextSessionAsync
  - Azure::Messaging::ServiceBus::ServiceBusClient::AcceptNextSessionAsync
  - AcceptNextSessionAsync
  - ServiceBusClient.AcceptNextSessionAsync
  - ServiceBusClient::AcceptNextSessionAsync
  helpviewer_keywords:
  - ServiceBusClient.AcceptNextSessionAsync method [.NET]
  - AcceptNextSessionAsync method [.NET], class ServiceBusClient
  - ServiceBusClient.AcceptNextSessionAsync(String, ServiceBusSessionReceiverOptions, CancellationToken) method [.NET]
  - AcceptNextSessionAsync(String, ServiceBusSessionReceiverOptions, CancellationToken) method [.NET], class ServiceBusClient
  - ServiceBusClient.AcceptNextSessionAsync(String, String, ServiceBusSessionReceiverOptions, CancellationToken) method [.NET]
  - AcceptNextSessionAsync(String, String, ServiceBusSessionReceiverOptions, CancellationToken) method [.NET], class ServiceBusClient
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
