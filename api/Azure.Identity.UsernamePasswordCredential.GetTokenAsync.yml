### YamlMime:NetMember
type: method
members:
- returnsWithMoniker:
    type:
    - value: <xref href="System.Threading.Tasks.ValueTask`1?alt=System.Threading.Tasks.ValueTask&text=ValueTask" data-throw-if-not-resolved="True"/>&lt;<xref href="Azure.Core.AccessToken?alt=Azure.Core.AccessToken&text=AccessToken" data-throw-if-not-resolved="True"/>&gt;
    description: An <xref data-throw-if-not-resolved="true" uid="Azure.Core.AccessToken"></xref> which can be used to authenticate service client calls.
  parameters:
  - namesWithMoniker:
    - value: requestContext
    description: The details of the authentication request.
    type: <xref href="Azure.Core.TokenRequestContext?alt=Azure.Core.TokenRequestContext&text=TokenRequestContext" data-throw-if-not-resolved="True"/>
  - namesWithMoniker:
    - value: cancellationToken
    description: A <xref data-throw-if-not-resolved="true" uid="System.Threading.CancellationToken"></xref> controlling the request lifetime.
    type: <xref href="System.Threading.CancellationToken?alt=System.Threading.CancellationToken&text=CancellationToken" data-throw-if-not-resolved="True"/>
  type: method
  uid: Azure.Identity.UsernamePasswordCredential.GetTokenAsync(Azure.Core.TokenRequestContext,System.Threading.CancellationToken)
  commentId: M:Azure.Identity.UsernamePasswordCredential.GetTokenAsync(Azure.Core.TokenRequestContext,System.Threading.CancellationToken)
  name: GetTokenAsync(TokenRequestContext, CancellationToken)
  fullName: Azure.Identity.UsernamePasswordCredential.GetTokenAsync(TokenRequestContext, CancellationToken)
  nameWithType: UsernamePasswordCredential.GetTokenAsync(TokenRequestContext, CancellationToken)
  syntaxWithMoniker:
  - lang: csharp
    values:
    - value: public override System.Threading.Tasks.ValueTask<Azure.Core.AccessToken> GetTokenAsync (Azure.Core.TokenRequestContext requestContext, System.Threading.CancellationToken cancellationToken = default);
  - lang: fsharp
    values:
    - value: 'override this.GetTokenAsync : Azure.Core.TokenRequestContext * System.Threading.CancellationToken -> System.Threading.Tasks.ValueTask<Azure.Core.AccessToken>'
  - lang: vb
    values:
    - value: Public Overrides Function GetTokenAsync (requestContext As TokenRequestContext, Optional cancellationToken As CancellationToken = Nothing) As ValueTask(Of AccessToken)
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
  summary: >-
    Obtains a token for a user account, authenticating them using the given username and password. Note: This will fail with an

    <xref data-throw-if-not-resolved="true" uid="Azure.Identity.AuthenticationFailedException"></xref> if the specified user account has MFA enabled. Acquired tokens are cached by the

    credential instance. Token lifetime and refreshing is handled automatically. Where possible, reuse credential instances to

    optimize cache effectiveness.
  metadata: {}
uid: Azure.Identity.UsernamePasswordCredential.GetTokenAsync*
commentId: Overload:Azure.Identity.UsernamePasswordCredential.GetTokenAsync
namespace: Azure.Identity
name: GetTokenAsync
fullName: Azure.Identity.UsernamePasswordCredential.GetTokenAsync
nameWithType: UsernamePasswordCredential.GetTokenAsync
assembliesWithMoniker:
- value: Azure.Identity.dll
packagesWithMoniker:
- value: Azure.Identity v1.9.0
  monikers:
  - azure-dotnet
- value: Azure.Identity v1.10.0-beta.1
  monikers:
  - azure-dotnet-preview
devLangs:
- csharp
- vb
- fsharp
monikers:
- azure-dotnet
- azure-dotnet-preview
metadata:
  api_name:
  - Azure.Identity.UsernamePasswordCredential.GetTokenAsync
  api_location:
  - Azure.Identity.dll
  topic_type:
  - apiref
  api_type:
  - Assembly
  f1_keywords:
  - Azure.Identity.UsernamePasswordCredential.GetTokenAsync
  - Azure::Identity::UsernamePasswordCredential::GetTokenAsync
  - GetTokenAsync
  - UsernamePasswordCredential.GetTokenAsync
  - UsernamePasswordCredential::GetTokenAsync
  helpviewer_keywords:
  - UsernamePasswordCredential.GetTokenAsync method [.NET]
  - GetTokenAsync method [.NET], class UsernamePasswordCredential
  - UsernamePasswordCredential.GetTokenAsync(TokenRequestContext, CancellationToken) method [.NET]
  - GetTokenAsync(TokenRequestContext, CancellationToken) method [.NET], class UsernamePasswordCredential
  monikers:
  - azure-dotnet
  - azure-dotnet-preview
